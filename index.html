<!DOCTYPE html>
<html lang="en" class="gr__cloudwhowas_com"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  
  <title>STRESS Attack</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="author" content="">

	<!--link rel="stylesheet/less" href="less/bootstrap.less" type="text/css" /-->
	<!--link rel="stylesheet/less" href="less/responsive.less" type="text/css" /-->
	<!--script src="js/less-1.3.3.min.js"></script-->
	<!--append ‘#!watch’ to the browser URL, then refresh the page. -->
	
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">

  <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
  <!--[if lt IE 9]>
    <script src="js/html5shiv.js"></script>
  <![endif]-->

  <!-- Fav and touch icons -->
  
  
	<script type="text/javascript" src="js/jquery.min.js"></script>
	<script type="text/javascript" src="js/bootstrap.min.js"></script>
	<script type="text/javascript" src="js/scripts.js"></script>
	<script type="text/javascript" src="js/animatescroll.js"></script>
<style id="style-1-cropbar-clipper">/* Copyright 2014 Evernote Corporation. All rights reserved. */
.en-markup-crop-options {
    top: 18px !important;
    left: 50% !important;
    margin-left: -100px !important;
    width: 200px !important;
    border: 2px rgba(255,255,255,.38) solid !important;
    border-radius: 4px !important;
}

.en-markup-crop-options div div:first-of-type {
    margin-left: 0px !important;
}
</style>
	<script type="text/x-mathjax-config">
	  MathJax.Hub.Config({tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']]}});
	</script>
	<script type="text/javascript"
	  src="js/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>

</head>

<body data-gr-c-s-loaded="true">
<div class="container">
	<div class="row clearfix">
		<div class="col-md-12 column">
			<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
				<div class="navbar-header">
					 <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1"> <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button> <a class="navbar-brand" href="#">STRESS</a>
				</div>
				
				<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
						<li class="active">
							<a href="#" onclick="$(&#39;#attack&#39;).animatescroll({scrollSpeed:2000,padding:60,easing:&#39;easeInOutBack&#39;});">STRESS attack</a>
						</li>
						
						<li>
							<a href="#" onclick="$(&#39;#df&#39;).animatescroll({scrollSpeed:2000,padding:60,easing:&#39;easeInOutBack&#39;});">DF side channel</a>
						</li>

						<li>
							<a href="#" onclick="$(&#39;#vulnerable&#39;).animatescroll({scrollSpeed:2000,padding:60,easing:&#39;easeInOutBack&#39;});">Vulnerable services</a>
						</li>
						
						<li>
							<a href="#" onclick="$(&#39;#coutermeasure&#39;).animatescroll({scrollSpeed:2000,padding:60,easing:&#39;easeInOutBack&#39;});">Countermeasures</a>
						</li>

						<li>
							<a href="#" onclick="$(&#39;#group&#39;).animatescroll({scrollSpeed:2000,easing:&#39;easeInOutBack&#39;});">Group Members</a>
						</li>

					</ul>

				</div>
				
			</nav>
		</div>
	</div>
	<div class="row clearfix">
		<div class="col-md-12 column">
		</div>
	</div>
	<div class="row clearfix">
		<div class="col-md-12 column">
		</div>
	</div>
	<div class="row clearfix">
		<div class="col-md-2 column">
		</div>
		<div class="col-md-8 column" id="welcome">
			<h1 class="text-center">
				
			</h1>

			<div class="jumbotron well">
				<h1 style="font-size: 45px">
					The <span class="text-danger">STRESS</span> Attack
				
				</h1>
			</div>
			<div class="page-header", id="attack">
				<h1>
					STRESS
				</h1>
			</div>
			<p class="lead">
			</p>
			<p class="lead">
				<span>
                The STRESS (<b>S</b>earch <b>T</b>ext <b>RE</b>levance <b>S</b>core
                <b>S</b>ide-channel) attack can in certain situations expose private data via a logical side channel in the implementations of some full-text search indexes as used by modern multi-tenant cloud services. The STRESS attack allows an attacker to discover whether a term exists in some other tenants' documents or determine the number of documents (belonging to other tenants) that contain a term of interest. We have shown simple experiments that suggest an attacker can leverage the STRESS attack to learn sensitive information such as credit card numbers and social security numbers contained in other tenants' documents, with low false-positive rates. The attacker does not need special privileges -- Any legitimate user of a vulnerable search service could exploit STRESS. See our 
                <a href="paper/sp17stress.pdf" target="_blank" >paper</a> for more details. 
				</span>
			</p>

			<div class="page-header" id="df">
				<h1>
					What is the side channel?
				</h1>
			</div>
			<p class="lead">
			</p>
			<p class="lead">
				<span>
				Modern multi-tenant search services provide search interfaces to enable users to query one or more terms to obtain an ordered list of matching documents. The documents are typically sorted according to their relevance scores, which are determined using an algorithm called term frequency-inverse document frequency (TF-IDF). We will define this algorithm and the attack below in more detail; the important thing to note is that the TF-IDF score contains information about how many documents contain a particular term. 
				</span>
			</p>
			<p class="lead">
				<span>
				To improve search efficacy and reduce the cost of maintaining too many indexes, current best practice suggests multi-tenant search system to use shared indexes: each index is computed over many different users’ documents; when a user issues a query, the system first gets all the documents matching the query, and then filters out any documents the user should not have access to.  
				</span>
			</p>

			<p class="lead">
				<span>
				However, if the search system provides relevance score information in the query responses, the user can then infer if other documents contain a term of interest by observing how relevance scores differ from a baseline value. This DF side channel has been known to exist in theory for more than 10 years but no practical attacks against deployed services have been developed.
				</span>
			</p>

			<p class="lead">
				<!-- To compute TF-IDF scores quickly, a search system maintains an inverted index that contains precomputed document frequencies for each term and term frequencies for each document-term pair.
 -->			
 				<span>
 				Now we will define the basic attack mathematically. Let $D$ denote a document set that has $N$ documents, $d$ be a document in $D$, and $t$ be any term. Term frequency $tf(t,d)$ is the number of times $t$ appears in $d$ and document frequency $df(t, D)$ is the number of documents containing $t$ at least once. Then the inverse document frequency $$idf(t,D) = 1+\text{log}\,\frac{N}{df(t,D)+1}$$. And the TF-IDF score of $d$ can be calculated as: $$ s = tf(t,d) * idf(t,D) $$
				
				</span>
			</p>

			<p class="lead">
			For example, If $t$ only appears once in the user's document $d$, the score of $d$ should be $$s_1 = 1*(1+\text{log}\,\frac{N}{1+1}) = 1*(1+\text{log}\,\frac{N}{2}) $$ However, if anther $X$ documents on the index also contains $t$, the score the user actually observed would become  
			$$s_2 = 1*(1+\text{log}\,\frac{N}{X+1})$$ 
			And $s_2 < s_1$. So with the knowledge of $s_1$, the user can conclude that some other documents on the index also contain $t$ if the observed score is less than $s_1$ or even calculate $X$ by solving equations.     
			</p>
<!-- 			<p class="lead">
			This is called the DF side channel. It has been known to exist in theory for more than 10 years but no practical attacks against deployed services have been developed.  

			</p> -->
			<div class="page-header" id="vulnerable">
				<h1>
					What services are vulnerable? 
				</h1>
			</div>
			<p class="lead">
			We investigate several popular multi-tenant search systems and services, and find the DF side channels exist in <a href="https://www.elastic.co/products/elasticsearch" target="_blank">Elasticsearch</a> and four hosted elasticsearch services: <a href="https://aws.amazon.com/elasticsearch-service/" target="_blank">AWS Elasticsearch</a>, <a href="https://aws.amazon.com/cloudsearch/?nc2=h_m1" target="_blank">AWS CloudSearch</a>, <a href="http://www.searchly.com/" target="_blank">Searchly</a>, and <a href="https://bonsai.io/" target="_blank">bonsai</a>. There are many other hosted elasticsearch services that could also have the DF side channels.  Besides, the DF side channels also exist in <a href="https://swiftype.com/" target="_blank">Swiftype</a> and the full-text search engine of <a href="https://dev.mysql.com/doc/refman/5.6/en/innodb-fulltext-index.html" target="_blank">MySQL</a>. 
 			

			</p>
			<p class="lead">
			In principle, any services or applications built atop those vulnerable systems/services could be vulnerable to the STRESS attack if they are using shared indexes. We find three services against which the STRESS attack are effective. The services are: <a href="https://github.com/" target="_blank">Github</a>, <a href="https://www.appwise.com/" target="_blank">Xen.do</a> and <strike>Orchestrate.io</strike> (shut down on March 17th, 2017).	
			<div id="res">
			</div>


			<div class="page-header" id="coutermeasure">
				<h1>
					How to prevent the STRESS attack?
				</h1>
			</div>
			<p class="lead">
				We disclosed via email to the three services investigated. Xen.do immediately removed relevance scores from API responses
				as a preliminary mitigation. Github forwarded the issue to Elastic.co. In their response to our email, Elastic.co suggests several countermeasures: 
				<table class="table" style="font-family: 'Lato', sans-serif">
					  <thead class="thead-default">
					    <tr>
					  
					      <th>Method</th>
					      <th>Pros</th>
					      <th>Cons</th>
					    </tr>
					  </thead>
					  <tbody>
					    <tr>
					      <th scope="row" class="col-md-3">Removing relevance scores in query responses</th>
					      <td class="col-md-3">
							Makes the STRESS attack harder;<br>
							Easy to implement
							</td>
					      <td>Does not prevent exploitation of the DF side channel. We show in our paper that an attacker could still learn sensitive information via rank-only STRESS attack. See our <a href="paper/sp17stress.pdf" target="_blank" >paper</a> for more details.</td>
					   
					    </tr>
					    <tr>
					      <th scope="row">Tenant per index</th>
					      <td>Eliminates DF side channel;<br>
							Good for small service</td>
					      <td>May be cost prohibitive for some large deployments</td>
					      
					    </tr>
					    <tr>
					      <th scope="row">Disable scoring and ranking</th>
					      <td>Eliminates DF side channel;</td>
					      <td>Functionality loss</td>
					     
					    </tr>
					    <tr>
					      <th scope="row">No ranking for sensitive terms</th>
					      <td>Prevents STRESS from learning sensitive terms
					      </td>
					      <td>Does not prevent exploitation of the DF side channel;<br>
					      	Hard to reliably identify sensitive information
					      </td>
					     
					    </tr>
					  </tbody>
					</table>
			</p>
			<p class="lead">
				In our paper, we propose two countermeasures that can eliminate DF side channels more efficiently: 
				<i>Public-corpus DF</i> and <i>Blind DF</i>. Our evaluation suggests Public-corpus DF is a better countermeasure 
				in terms of scalability and deployability.
			</p>
			<div class="page-header">
				<h1>
					Resources
				</h1>
			</div>
			<p class="lead">
				<span>Publication: Side-Channel Attacks on Shared Search Indexes <a href="paper/sp17stress.pdf" target="_blank" class="btn btn-primary">Download</a></span>
			</p>
			<p class="lead">
				<span>We will not be releasing our proof-of-concept STRESS attack code publicly, but researchers or companies can request it by emailing <a href="mailto:liangw@cs.wisc.edu">Liang Wang</a></span>.
			</p>



			

			<div class="page-header" id="group">
				<h1>
					About the researchers
				</h1>
			</div>
			<p class="lead">
			We are academic security researchers from a variety of institutions:
			</p>
			<ul>
                <li><a href="http://pages.cs.wisc.edu/~liangw/" target="_blank">Liang Wang</a> (University of Wisconsin)</li>
                <li><a href="https://www.cs.cornell.edu/~paulgrubbs/" target="_blank">Paul Grubbs</a> (Cornell Tech)</li>
                <li>Jiahui Lu (Shanghai Jiao Tong University)</li>
              	<li><a href="https://vbinds.ch/" target="_blank">Vincent Bindschaedler</a> (University of Illinois at Urbana-Champaign)</li>
              	<li><a href="http://research.cs.rutgers.edu/~dc789/" target="_blank">David Cash</a> (Rutgers University)</li>
                <li><a href="https://rist.tech.cornell.edu/" target="_blank">Thomas Ristenpart</a> (Cornell Tech)</li> 
              </ul>
             <p class="lead">
             This work was supported in part by NSF grants CNS-1558500, CNS-1330308, CNS-1453132, the Defense Advanced Research Projects Agency (DARPA) and Space and Naval Warfare Systems Center, Pacific (SSC Pacific) under contract No. N66001-15-C-4070, and a generous gift from Microsoft.
             </p>
		</div>
		</div>



		<div class="col-md-2 column">
		</div>
	</div>



</body></html>
